<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Trackalytics: KPI Dashboard</title>

    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">

    <!-- Google Fonts Inter&Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Poppins:wght@700&display=swap" rel="stylesheet">

    <!-- Style -->
    <link rel="stylesheet" href="css/kpiDashboard.css">

    <!-- Charts -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

</head>
<body>
<div class="container">
    <!-- Sidebar -->
    <aside>
        <div class="menu">
            <div class="logo">
                <img src="./images/logo.png" alt="logo">
                <h2>Trackalytics</h2>
            </div>
            <div class="close" id="close-btn">
                <span class="material-symbols-outlined">close</span>
            </div>
        </div>

        <div class="sidebar">
            <h3>Dashboards</h3>
            <a href="main-dashboard.html">
                <span class="material-symbols-outlined">space_dashboard</span>
                <h3>Main Dashboard</h3>
            </a>
            <a href="kpi-dashboard.html">
                <span class="material-symbols-outlined">speed</span>
                <h3>KPI Dashboard</h3>
            </a>
            <h3>Inventory</h3>
            <a href="inventory.html">
                <span class="material-symbols-outlined">inventory</span>
                <h3>View Inventory</h3>
            </a>
            <a href="reservation.html">
                <span class="material-symbols-outlined">event_available</span>
                <h3>View Reservations</h3>
            </a>
            <h3>Admin</h3>
            <a href="roles.html">
                <span class="material-symbols-outlined">groups</span>
                <h3>User Management</h3>
            </a>
            <a href="reports.html">
                <span class="material-symbols-outlined">folder</span>
                <h3>Reports & Exports</h3>
            </a>
            <a href="activitylog.html">
                <span class="material-symbols-outlined">history</span>
                <h3>Activity Log</h3>
            </a>
            <a href="settings.html">
                <span class="material-symbols-outlined">tune</span>
                <h3>Settings</h3>
            </a>
            <a href="login.html">
                <span class="material-symbols-outlined">logout</span>
                <h3>Logout</h3>
            </a>
        </div>
    </aside>
    <!-- Main Content -->
    <main class="dashboard-container">
        <!-- Top KPI Cards -->
        <div class="dashboard-main-cards">
            <div class="dashboard-card">
                <div class="card-inner"><p>Sell-through Rate</p></div>
                <span>88%</span>
            </div>
            <div class="dashboard-card">
                <div class="card-inner"><p>Dead Stock / Spoilage</p></div>
                <span>12%</span>
            </div>
            <div class="dashboard-card">
                <div class="card-inner"><p>Average Inventory</p></div>
                <span>432</span>
            </div>
        </div>

        <!-- Chart Section -->
        <div class="charts">
            <!-- Line Chart and Tabs -->
            <div class="charts-card line-chart unified-card">
                <div class="chart-top">
                    <div class="chart-header">
                        <p class="chart-title">Inventory Rates Over Time</p>
                        <div class="chart-menu" onclick="toggleMenu('line')">⋮</div>
                        <ul class="chart-dropdown" id="line-menu">
                            <li onclick="downloadChart('line', 'png')">Download as PNG</li>
                            <li onclick="downloadChart('line', 'pdf')">Download as PDF</li>
                        </ul>
                    </div>
                    <div id="line-chart"></div>
                </div>
                <div class="chart-tabs">
                    <button id="tab-sell" onclick="updateLineChart('sell')" class="tab-btn-tab active-tab">Sell-through</button>
                    <button id="tab-dead" onclick="updateLineChart('dead')" class="tab-btn-tab">Dead Stock</button>
                    <button id="tab-avg" onclick="updateLineChart('avg')" class="tab-btn-tab">Average Inventory</button>
                </div>
            </div>



            <!-- Pie Chart -->
            <div class="charts-card" style="width: 400px;">
                <div class="chart-header">
                    <p class="chart-title">Item Status</p>
                    <div class="chart-menu" onclick="toggleMenu('pie')">⋮</div>
                    <ul class="chart-dropdown" id="pie-menu">
                        <li onclick="downloadChart('pie', 'png')">Download as PNG</li>
                        <li onclick="downloadChart('pie', 'pdf')">Download as PDF</li>
                    </ul>
                </div>
                <div id="pie-chart"></div>
                <ul class="pie-legend">
                    <li>
                        <span class="legend-dot" style="background-color: #4e73df;"></span>
                        <div class="legend-labels">
                            <div class="label-row">
                                <span class="status">Checked-out</span>
                                <span class="legend-value">40%</span>
                            </div>
                            <small>86 products</small>
                        </div>
                    </li>
                    <li>
                        <span class="legend-dot" style="background-color: #e74a3b;"></span>
                        <div class="legend-labels">
                            <div class="label-row">
                                <span class="status">Damaged</span>
                                <span class="legend-value">20%</span>
                            </div>
                            <small>43 products</small>
                        </div>
                    </li>
                    <li>
                        <span class="legend-dot" style="background-color: #f6c23e;"></span>
                        <div class="legend-labels">
                            <div class="label-row">
                                <span class="status">Returned</span>
                                <span class="legend-value">15%</span>
                            </div>
                        </div>
                    </li>
                    <li>
                        <span class="legend-dot" style="background-color: #36b9cc;"></span>
                        <div class="legend-labels">
                            <div class="label-row">
                                <span class="status">Missing</span>
                                <span class="legend-value">10%</span>
                            </div>
                            <small>22 products</small>
                        </div>
                    </li>
                    <li>
                        <span class="legend-dot" style="background-color: #1cc88a;"></span>
                        <div class="legend-labels">
                            <div class="label-row">
                                <span class="status">Available</span>
                                <span class="legend-value">15%</span>
                            </div>
                            <small>32 products</small>
                        </div>
                    </li>
                </ul>

            </div>
        </div>
    </main>
</div>

<script src="js/kpi-dashboard.js"></script>
</body>
</html>