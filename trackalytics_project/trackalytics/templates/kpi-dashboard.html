{% extends 'base.html' %}
{% load static %}

{% block title %}KPI Dashboard{% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
{% endblock %}

{% block content %}
<div class="dashboard-title flex justify-between items-center mb-6">
  <h1 class="text-3xl font-semibold text-gray-800">KPI Dashboard</h1>
</div>

<div class="kpi-cards grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
  <div class="dashboard-card text-center">
    <div class="card-inner flex justify-between items-center">
      <p class="text-sm text-gray-500">Total Reservations</p>
      <span class="material-symbols-outlined text-blue-500">event</span>
    </div>
    <p class="text-2xl font-bold text-gray-800">{{ total_reservations }}</p>
  </div>

  <div class="dashboard-card text-center">
    <div class="card-inner flex justify-between items-center">
      <p class="text-sm text-gray-500">Active Users</p>
      <span class="material-symbols-outlined text-green-500">group</span>
    </div>
    <p class="text-2xl font-bold text-gray-800">{{ active_users }}</p>
  </div>

  <div class="dashboard-card text-center">
    <div class="card-inner flex justify-between items-center">
      <p class="text-sm text-gray-500">Inventory Turnover</p>
      <span class="material-symbols-outlined text-yellow-500">autorenew</span>
    </div>
    <p class="text-2xl font-bold text-gray-800">{{ turnover_rate }}</p>
  </div>
</div>

<div class="charts grid grid-cols-1 md:grid-cols-2 gap-6">
  <div class="chart-card">
    <p class="chart-title font-medium mb-3">Reservation Trends</p>
    <div id="line-chart"></div>
  </div>
  <div class="chart-card">
    <p class="chart-title font-medium mb-3">Inventory Usage</p>
    <div id="pie-chart"></div>
  </div>
</div>
{% endblock %}

{% block js %}
<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
<script src="{% static 'js/dashboard.js' %}"></script>
{% endblock %}
